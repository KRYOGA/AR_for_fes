# amazon S3を使用してwebサイトを公開

---



### amazon S3とは？

amazon S3のバケット内に各フォルダを静的ファイルとして格納することができる

EC2は管理しなければいけない範囲が広い(自由度が高いと言える)のに対して、構築済みのものを公開したいだけであればS3で十分である



### amazon S3の公開手順

1. json fileの作成（下記の内容で大丈夫そうかと）
2. マネジメントコンソールからS3のページへ移動
3. バケットを作成(バケット名は世界中でユニークにする必要がある)
4. パブリックアクセスを許可するために、ブロックのチェックを外す→最下層にあるバケットを作成をクリック
5. バケット名クリック→アクセス許可タブへ移動
6. バケットポリシーにjson fileを書き込む（**"Resource"のs3以降はバケット名を入力すること**）→変更の保存
7. S3内にAWS CLIを用いて静的ファイルをアップロードする

   1. VS Codeへ戻りターミナルを開く
   2. cdコマンドを使ってアップロードしたいファイルが格納されているディレクトリまで移動
   3. aws s3 cp . s3://バケット名/ --recursive　のコマンドを実行
   4. S3へ戻ってファイルがアップロードされたか確認

**All done!!!**

**S3内に保存されている公開したいhtmlファイルのURLを拾ってきてQRにしてしまえばゼミのパンフレットに掲載することも可能では！？**


#### json fileの記述内容


{

"Version": "2012-10-17",

"Id": "example",

"Statement": [

    {

"Sid": "example",

"Effect": "Allow",

"Principal": "*",

"Action": "s3:GetObject",

"Resource": "arn:aws:s3:::myshop-web-xxxx/*"

    }

    ]

}
